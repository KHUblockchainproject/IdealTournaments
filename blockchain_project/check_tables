import sqlite3

DB_PATH = "db/tournament.db"  # ì‹¤ì œ DB ê²½ë¡œë¥¼ ì—¬ê¸°ì— ë„£ìœ¼ì„¸ìš”

try:
    conn = sqlite3.connect(DB_PATH)
    cur = conn.cursor()

    print(f"[âœ“] Connected to DB: {DB_PATH}\n")
    print("ğŸ“‹ í…Œì´ë¸” ëª©ë¡:")

    cur.execute("SELECT name FROM sqlite_master WHERE type='table'")
    tables = cur.fetchall()

    if not tables:
        print("âŒ í…Œì´ë¸”ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
    else:
        for table in tables:
            print(f" - {table[0]}")
            cur.execute(f"PRAGMA table_info({table[0]})")
            columns = cur.fetchall()
            for col in columns:
                print(f"    â€¢ {col[1]} ({col[2]})")

    conn.close()
except Exception as e:
    print("ğŸ”¥ ì˜¤ë¥˜ ë°œìƒ:", e)

conn = sqlite3.connect("db/tournament.db")
cur = conn.cursor()

print("[Tournaments]")
cur.execute("SELECT * FROM tournaments")
for row in cur.fetchall():
    print(row)

print("\n[Candidates]")
cur.execute("SELECT * FROM candidates")
for row in cur.fetchall():
    print(row)

conn.close()